AS_BUILD_HOME := $(abspath $(dir $(lastword $(MAKEFILE_LIST))))

AS_PKG_HOME := $(abspath $(AS_BUILD_HOME)/../pkg/$(shell uname -n)/media)

CC = g++

LARGE_FILE_SUPPORT = -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -D_DB_DEMAND_GEN_INDEX

AS_BUILD_DATE = -D_AS_BUILD_DATE=/"$(shell /bin/date +%y%m%d)/"

ifeq ($(shell uname -m), x86_64)
DFT_DEFINES = -g -fPIC -w -D_REENTRANT -D_X86_64 -D_PERP_TEST_LOG
ZLIB_PATH = $(AS_BUILD_HOME)/01_SDK/05_LIB/zlib/x86_64
CURL_PATH = $(AS_BUILD_HOME)/01_SDK/05_LIB/curl/x86_64
OPENSSL_PATH = $(AS_BUILD_HOME)/01_SDK/05_LIB/openssl/x86_64
MACHINE=x86_64
else
DFT_DEFINES = -g -w -D_REENTRANT -D_X86 -D_PERP_TEST_LOG
ZLIB_PATH = $(AS_BUILD_HOME)/01_SDK/05_LIB/zlib/x86
CURL_PATH = $(AS_BUILD_HOME)/01_SDK/05_LIB/curl/x86
OPENSSL_PATH = $(AS_BUILD_HOME)/01_SDK/05_LIB/openssl/x86
MACHINE=x86
endif

DEFINES = $(DFT_DEFINES) $(LARGE_FILE_SUPPORT) $(AS_BUILD_DATE)
INCLUDES = -I$(AS_BUILD_HOME)/01_SDK/00_SDK_01/inc -I$(AS_BUILD_HOME)/01_SDK/00_SDK_01/inc/so -I$(AS_BUILD_HOME)/01_SDK/01_BASE/lv_00/src -I$(AS_BUILD_HOME)/01_SDK/01_BASE/lv_01_global/src -I$(AS_BUILD_HOME)/01_SDK/01_BASE/lv_02_util/src -I$(AS_BUILD_HOME)/01_SDK/01_GLB_W32/src -I$(AS_BUILD_HOME)/01_SDK/03_UTIL/01_system/src -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/extension -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/util -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/com_header -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/thread -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/00_sdk/inc -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/00_sdk/inc/com_define_db -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/00_sdk/inc/com_struct/comm -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/00_sdk/inc/com_define_mem -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/mem -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/mem_def -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms/comm -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms/env -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms/etc -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms/info -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms/log -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms/org -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms/po_etc -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms/po_fa -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms/po_fe -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms/po_in/devo -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms/po_in/ptn -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms/po_in/rs -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms/po_in/vuln -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms/po_nc -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms/po_pms -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms/ptn -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/struct/dbms/site -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/dbms_manage -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/dbms_manage/env -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/dbms_manage/etc -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/dbms_manage/info -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/dbms_manage/log -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/dbms_manage/org -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/dbms_manage/po_etc -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/dbms_manage/po_fa -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/dbms_manage/po_fe -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/dbms_manage/po_in/devo -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/dbms_manage/po_in/ptn -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/dbms_manage/po_in/rs -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/dbms_manage/po_in/vuln -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/dbms_manage/po_nc -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/dbms_manage/po_pms -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/dbms_manage/ptn -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/dbms_manage/site -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/db/env -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/db/etc -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/db/info -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/db/log -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/db/org -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/db/po_etc -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/db/po_fa -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/db/po_fe -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/db/po_in/devo -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/db/po_in/ptn -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/db/po_in/rs -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/db/po_in/vuln -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/db/po_nc -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/db/po_pms -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/db/ptn -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/db/site -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/mem -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/manage/mem -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/base -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/impl -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/lgn -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/link -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr/ctrl -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr/env -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr/info -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr/log -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr/org -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr/po_etc -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr/po_fa -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr/po_fe -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr/po_in/devo -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr/po_in/ptn -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr/po_in/rs -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr/po_in/vuln -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr/po_nc -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr/po_pms -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr/ptn_in -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr/ptn_nc -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/mgr/site -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/udt -I$(AS_BUILD_HOME)/10_PROJECT/01_SecuStore/05_lnx_agt/logic/util -I$(AS_BUILD_HOME)/01_SDK/05_LIB/as_lib/h -I$(ZLIB_PATH)/include -I$(OPENSSL_PATH)/include -I$(CURL_PATH)/include -I/usr/local/freetds/include -I/usr/include